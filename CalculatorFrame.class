import java.awt.Component;
import java.awt.Font;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.PrintWriter;
import java.net.Socket;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JTextField;
import javax.swing.SwingUtilities;

public class CalculatorFrame extends JFrame {
    String operand;
    String operator;
    private Socket socket;
    private PrintWriter out;
    private BufferedReader in;

    public CalculatorFrame() {
        this.setSize(500, 500);
        this.setLocationRelativeTo((Component)null);
        this.setDefaultCloseOperation(2);
        final JTextField textField = new JTextField();
        JPanel panel = new JPanel(new GridLayout(4, 4));
        String[] buttons = new String[]{"7", "8", "9", "-", "4", "5", "6", "+", "1", "2", "3", "*", "/", "0", "Clear", "="};
        String[] var4 = buttons;
        int var5 = buttons.length;

        for(int var6 = 0; var6 < var5; ++var6) {
            final String button = var4[var6];
            JButton btn = new JButton(button);
            btn.setFont(new Font("Arial", 0, 30));
            btn.addActionListener(new ActionListener() {
                public void actionPerformed(ActionEvent e) {
                    CalculatorFrame.this.handleButtonClick(button, textField);
                }
            });
            panel.add(btn);
        }

        this.add(textField, "North");
        this.add(panel);

        try {
            this.socket = new Socket("localhost", 9999);
            this.out = new PrintWriter(this.socket.getOutputStream(), true);
            this.in = new BufferedReader(new InputStreamReader(this.socket.getInputStream()));
        } catch (IOException var9) {
            var9.printStackTrace();
        }

    }

    private void handleButtonClick(String button, JTextField textField) {
        if (button.charAt(0) >= '0' && button.charAt(0) <= '9') {
            String var10001 = textField.getText();
            textField.setText(var10001 + button);
        } else if (button.equals("Clear")) {
            textField.setText("");
            this.operand = "";
            this.operator = "";
        } else if (button.equals("=")) {
            long op1 = Long.valueOf(this.operand);
            long op2 = Long.valueOf(textField.getText());
            if (this.operator.equals("+")) {
                textField.setText(String.valueOf(op1 + op2));
            } else if (this.operator.equals("-")) {
                textField.setText(String.valueOf(op1 - op2));
            } else if (this.operator.equals("*")) {
                textField.setText(String.valueOf(op1 * op2));
            } else if (this.operator.equals("/")) {
                textField.setText(String.valueOf(op1 / op2));
            }

            this.out.println(textField.getText());
            this.operand = "";
            this.operator = "";
        } else {
            this.operand = textField.getText();
            this.operator = button;
            textField.setText("");
        }

    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(() -> {
            CalculatorFrame frame = new CalculatorFrame();
            frame.setVisible(true);
        });
    }
}
